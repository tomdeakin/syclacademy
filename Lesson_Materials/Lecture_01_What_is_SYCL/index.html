<r<!DOCTYPE html>

<html>
	<head>
	    <meta charset="utf-8">
		<link rel="stylesheet" href="../common-revealjs/css/reveal.css">
		<link rel="stylesheet" href="../common-revealjs/css/theme/white.css">
		<link rel="stylesheet" href="../common-revealjs/css/custom.css">
		<script>
			// This is needed when printing the slides to pdf
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../common-revealjs/css/print/pdf.css' : '../common-revealjs/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<script>
		    // This is used to display the static images on each slide,
			// See global-images in this html file and custom.css
			(function() {
				if(window.addEventListener) {
					window.addEventListener('load', () => {
						let slides = document.getElementsByClassName("slide-background");

						if (slides.length === 0) {
							slides = document.getElementsByClassName("pdf-page")
						}

						// Insert global images on each slide
						for(let i = 0, max = slides.length; i < max; i++) {
							let cln = document.getElementById("global-images").cloneNode(true);
							cln.removeAttribute("id");
							slides[i].appendChild(cln);
						}

						// Remove top level global images
						let elem = document.getElementById("global-images");
						elem.parentElement.removeChild(elem);
					}, false);
				}
			})();
		</script>
		
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<div id="global-images" class="global-images">
					<img src="../common-revealjs/images/sycl_academy.png" />
					<img src="../common-revealjs/images/sycl_logo.png" />
					<img src="../common-revealjs/images/trademarks.png" />
					<img src="../common-revealjs/images/cluster22.png" />
				</div>
				<!--Slide 1-->
				<section>
					<div class="hbox" data-markdown>
						## What is SYCL?
					</div>
				</section>
				<!--Slide 2-->
				<section class="hbox" data-markdown>
					## Learning Objectives
					* Heterogeneous parallel programming
					* Learn about the SYCL specification and its implementations
					* Learn about the components of a SYCL implementation
					* Learn about how a SYCL source file is compiled
					* Learn where to find useful resources for SYCL
                </section>
				<!--Slide 3-->
				<section class="container" data-markdown>
					### Supercomputing landscape at Exascale
					* Need for high levels of performance driving use of accelerators
					* Many, but not all, large supercomputers using GPUs:
						* LUMI at EuroHPC JU: AMD Trento CPU and AMD MI250X GPUs (4 per node)
						* Perlmutter at NERSC: AMD EPYC Milan CPUs and NVIDIA A100 GPUs
						* Frontier at ORNL: AMD EPYC custom CPUs and Radeon Instinct GPUs (4 per node)
						* Aurora at ALCF: Intel Xeon Sapphire Rapids CPUs and Xe Ponte Vecchio GPUs (6 per node)
						* El Capitan at LLNL: AMD EPYC Genoa CPUs and Radeon Instinct GPUs (4 per node)

					**Multiple vendor solutions to get to Exascale**
                </section>
				<!--Slide 4-->
				<section class="container" data-markdown>
					### Performance Portable Heterogeneous Programming
					* Scientific applications need to be performant across a range of processors
					* Need to write applications in (heterogeneous) parallel programming model
						* Open Standards: SYCL, OpenMP, ...
						* DSLs and abstractions: Kokkos, Raja, ...
						* Language parallelism: ISO C++, Fortran, ...
				</section>
				<!--Slide 5-->
				<section>
					<div class="hbox" data-markdown>
						#### What is SYCL?
					</div>
					<div class="container" data-markdown>
						![SYCL](./sycl_and_cpp.png "SYCL")
					</div>
					<div class="hbox" data-markdown>
						SYCL is a single source, high-level, standard C++ programming model, that can target a range of heterogeneous platforms
					</div>
					<aside class="notes">
						We'll examine what each of the parts of this statement means.
					</aside>
				</section>
				<!--Slide 6-->
				<section>
					<div class="hbox" data-markdown>
						#### What is SYCL?
					</div>
					<div class="container" data-markdown>
						A first example of SYCL code. Elements will be explained in coming sections!
					</div>
					<div class="container" data-markdown>
						![SYCL](./sycl_first_sample_code.png "SYCL")
					</div>
				</section>
				<!--Slide 7-->
				<section data-markdown>
					## SYCL is...
					
					* SYCL extends C++ in two key ways:
					  * heterogeneous memory
					  * heterogeneous parallel compute
					* SYCL is modern C++, with APIs for
					  * device discovery (and information)
					  * device control (kernels of work, memory)
					* SYCL doesn't add extensions to the core language
					* SYCL is an open standard
					  * multivendor and multiarchitecture support
				</section>
				<!--Slide 8-->
				<section class="hbox">
					<div class="hbox" data-markdown>
						#### What is SYCL?
					</div>
					<div class="hbox" data-markdown>
						SYCL is a **single source**, high-level, standard C++ programming model, that can target a range of heterogeneous platforms
					</div>
					<div class="container">
						<div class="col" data-markdown>
							![SYCL](./sycl_ecosystem.png "SYCL")
						</div>
						<div class="col" data-markdown>
							*  SYCL allows you to write both host CPU and device code in the same C++ source file
							*  This requires two compilation passes; one for the host code and one for the device code
						</div>
					</div>
					<aside class="notes">
						Single source means that SYCL kernel source code can live in the same source file as the other code you are using.
						This is not the case with something like OpenCL, another heterogeneous programming interface, where the kernel code lives in a separate file.
						Your kernel contains the code you want to execute on parallel hardware, i.e the bit you want to accelerate such as a vector addition
					</aside>
				</section>
				<!--Slide 9-->
				<section class="hbox">
					<div class="hbox" data-markdown>
						#### What is SYCL?
					</div>
					<div class="hbox" data-markdown>
						SYCL is a single source, **high-level**, standard C++ programming model, that can target a range of heterogeneous platforms
					</div>
					<div class="container">
					<article class="main" data-markdown>
						*  SYCL provides high-level abstractions over common boilerplate code 
						  * Platform/device selection
						  * Buffer creation and data movement
						  * Kernel function compilation
						  * Dependency management and scheduling
						* High-level abstractions are good for productivity
						  * SYCL has layers of abstractions when control is needed
					</article>
					<aside class="notes">
						
					</aside>
				</section>
				<!--Slide 10-->
				<section class="hbox">
					<div class="hbox" data-markdown>
						#### What is SYCL?
					</div>
				    <div class="hbox" data-markdown>
				        SYCL is a single source, high-level **standard C++** programming model, that can target a range of heterogeneous platforms
					</div>
					<div class="container">
						<div class="col" data-markdown>
							![SYCL](./code_comparison.png "SYCL-Comparison")
						</div>
						<div class="col" data-markdown>
							* SYCL allows you to write standard C++
							  * SYCL 2020 is based on C++17
							* Unlike the other implementations shown on the left there are:
							  * No language extensions
							  * No pragmas 
							  * No mandatory attributes
						</div>
					</div>
					<aside class="notes">
						SYCL only uses standard C++ code for both the host applications and kernel functions
						Other models use language extensions such as pragmas, attributes or keywords to indicate device code
					</aside>
				</section>
				<!--Slide 11-->
				<section class="hbox">
					<div class="hbox" data-markdown>
						## SYCL and ISO C++
						* ISO C++ has some notion of concurrency via threads and futures
						* and data parallelism via algorithm and numeric libraries
						* Assumes single execution space and single memory
						* No control of where to run (yet)
						* No asynchrony of algorithms (yet)

						**SYCL is aligning with and helping shape the future for heterogeneous compute in C++**
					</div>
				</section>
				<!--Slide 11-->
				<section class="hbox">
					<div class="hbox" data-markdown>
						#### What is SYCL?
					</div>
					<div class="hbox" data-markdown>
						SYCL is a single source, high-level standard C++ programming model, that can **target a range of heterogeneous platforms**
					</div>
					<div class="container">
						<div class="col" data-markdown>
							![SYCL](./sycl_targets.png "SYCL-Targets")
						</div>
						<div class="col" data-markdown>
							* SYCL can target any device supported by its backend
							* SYCL can target a number of different backends
							
							SYCL has been designed to be implemented on top of a variety of backends. Current implementations support backends such as OpenCL, CUDA, HIP, OpenMP and others.
						</div>
					</div>
					<aside class="notes">
						SYCL has been designed to enable developers to write C++ code that can be used to target different types of processors that are part of a heterogeneous system. 
						This means that you can write your code and deploy it to devices that support the SYCL implementation's back-end. 
						Whilst the current specification of SYCL is bound to OpenCL, it is possible to support non-OpenCL back-ends. For example hipSYCL targets AMD's HIP interface and ComputeCpp targets NVidia's ptx instruction set
					</aside>
				</section>
				<!--Slide 12-->
				<section class="hbox">
					<div class="hbox" data-markdown>
						#### SYCL specification
					</div>
					<div class="container">
					<aside class="aside aside-1" data-markdown>
						![SYCL](./sycl_spec_versions.png "SYCL-OpenCL")
					</aside>
				</section>
				<!--Slide 13-->
				<section class="hbox">
					<div class="hbox" data-markdown>
						#### SYCL implementations
					</div>
                                        <img src="./sycl_implementation_targets_1.jpg" alt="SYCL-Implementations">
				</section>
				<section class="hbox">
					<div class="hbox" data-markdown>
						#### SYCL implementations
					</div>
                                        <img src="./sycl_implementation_targets_2.jpg" alt="SYCL-Implementations">
				</section>
				<!--Slide 14-->
				<section class="hbox">
					<div class="hbox" data-markdown>
						### Implementations of a standard
						* SYCL is a *standard*
						* Document defines behaviour of API:
						  * Platform, device model
						  * Memory and execution model
						  * What the APIs are and what they do
						* Implementations (like DPC++, hipSYCL, etc) *implement* the standard
						  * Once conformant, guarenteed all APIs are supported by the implementation
					</div>
				</section>
				<!--Slide 15-->
				<section>
					<div class="hbox" data-markdown>
						#### What a SYCL implementation looks like
					</div>
					<div class="container">
						<div class="col" data-markdown>
							![SYCL Implementation](./sycl_implementation_sycl_interface.png "SYCL-Implementation")
						</div>
						<div class="col" data-markdown>
							* The SYCL interface is a C++ template library that developers can use to access the features of SYCL
							* The same interface is used for both the host and device code
						</div>
					</div>
					<div class="bottom-bullets" data-markdown>
						* The host is generally the CPU and is used to dispatch the parallel execution of kernels
						* The device is the parallel unit used to execute the kernels, such as a GPU
					</div>
				</section>
				<!--Slide 27-->
				<section data-markdown>
					## Where to Get Started with SYCL
					
					* Visit https://sycl.tech to find out about all the SYCL book, implementations, tutorials, news, and videos
					* Visit https://www.khronos.org/sycl/ to find the latest SYCL specifications
					* Checkout the documentation provided with one of the SYCL implementations.
				</section>
				<!--Slide 28-->
				<section data-markdown>
					## Questions
				</section>
				<!--Slide 29-->
				<section>
					<div class="hbox" data-markdown>
						#### Exercise
					</div>
					<div class="container" data-markdown>
						Code_Exercises/Exercise_1_Compiling_with_SYCL/source.cpp
					</div>
					<div class="container" data-markdown>
						Configure your environment for using SYCL and compile a source file with the SYCL compiler.
					</div>
					<div class="container" data-markdown>
						**Task**: Include the SYCL header and successfully build and run a binary.
					</div>
				</section>
				<!--Slide 30-->
				<section>
					<div class="hbox" data-markdown>
						## Intel DevCloud
						1. Register for the Intel DevCloud
						2. Follow instructions to set up SSH
						
						https://devcloud.intel.com/oneapi/documentation/
					</div>
				</section>
				<!--Slide 31-->
				<section>
					<div class="hbox" data-markdown>
						### DevCloud Demo
					</div>
					<div class="container">
					<pre><code  data-trim data-noescape>
$ ssh devcloud
$ git clone https://github.com/illuhad/syclacademy -b cluster22 --recursive
$ cd syclacademy
$ mkdir build
$ dpcpp -fsycl -o sycl-ex-1 ../Code_Exercises/Exercise_01_Compiling_with_SYCL/source.cpp
$ qsub -I -l nodes=1:gpu:ppn=2 -d .
$ ./sycl-ex-1
					</code></pre>
					</div>
				</section>
			</div>
		</div>
		<script src="../common-revealjs/js/reveal.js"></script>
		<script src="../common-revealjs/plugin/markdown/marked.js"></script>
		<script src="../common-revealjs/plugin/markdown/markdown.js"></script>
		<script src="../common-revealjs/plugin/notes/notes.js"></script>
		<script>
			Reveal.initialize({mouseWheel: true, defaultNotes: true});
			Reveal.configure({ slideNumber: true });
		</script>
	</body>
</html>
